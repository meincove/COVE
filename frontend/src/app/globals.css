/* =========================
   globals.css (clean, unified)
   ========================= */

/* Fonts */
@font-face {
  font-family: "Sansilk";
  src: url("/fonts/Sansilk.ttf") format("truetype");
  font-weight: 700;
  font-style: italic;
}

/* Resets & guards */
*,
*::before,
*::after { box-sizing: border-box; }

html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  width: 100%;
  overflow: hidden;                /* window never scrolls; our frame does */
}

html { overflow-x: clip; }         /* no accidental horizontal scrollbars */

/* Tailwind */
@import "tailwindcss";
@import "tw-animate-css";

/* shadcn dark helper */
@custom-variant dark (&:is(.dark *));

/* Theme vars */
@layer base {
  * { @apply border-border outline-ring/50; }
  body { @apply bg-background text-foreground; }
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  --color-ring: var(--ring);
  --color-input: var(--input);
  --color-border: var(--border);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
}

:root {
  --radius: 0rem;

  /* light theme */
  --background: oklch(1 0 0);
  --foreground: oklch(0.141 0.005 285.823);
  --ring: oklch(0.705 0.015 286.067);
  --border: oklch(0.92 0.004 286.32);
  --input: oklch(0.92 0.004 286.32);

  /* === Frame sizing knobs === */
  /* We don't use scale for shrink; keep at 1 */
  --frame-scale: 1;

  /* Per-side rims (tune freely) */
  --gap-top: 80px;     /* larger top rim */
  --gap-right: 15px;
  --gap-bottom: 15px;
  --gap-left: 15px;

  /* Bands behind the frame follow the gaps exactly */
  --band-top-height:    var(--gap-top);
  --band-left-width:    var(--gap-left);
  --band-right-width:   var(--gap-right);
  --band-bottom-height: var(--gap-bottom);

  /* Overlay bar spacing/size (optional) */
  --overlay-top-pad: 0px;
  --overlay-left-pad: 0px;
  --overlay-top-bar-height: 0px;
  --overlay-left-bar-width: 0px;
}

.dark {
  --background: oklch(0.141 0.005 285.823);
  --foreground: oklch(0.985 0 0);
  --ring: oklch(0.552 0.016 285.938);
  --border: oklch(1 0 0 / 10%);
  --input: oklch(1 0 0 / 15%);
}

/* Helpers */
.text-white { text-shadow: 0 1px 2px rgba(0,0,0,.5); }
.perspective { perspective: 1200px; }
@layer utilities { .animate-spin-slow { animation: spin 20s linear infinite; } }

.grainy {
  position: absolute; inset: 0; z-index: 0;
  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAAElBMVEUAAAD8/vz08vT09vT8+vzs7uxH16TeAAAAAXRSTlMAQObYZgAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAuFJREFUOI0Vk+3NLiEIRG1B8ClAYAsQ2AIEt4D9ePtv5Xp/mZgYJ2fOFJKEfInkVWY2aglmQFkimRTV7MblYyVqD7HXyhKsSuPX12MeDhRHLtGvRG+P+B/S0Vu4OswR9tmvwNPyhdCDbVayJGads/WiUWcjCvCnruTBNHS9gmX2VzVbk7ZvB1gb1hkWFGl+A/n+/FowcO34U/XvKqZ/fHY+6vgRfU92XrOBUbGeeDfQmjWjdrK+frc6FdGReQhfSF5JvR29O2QrfNw1huTwlgsyXLo0u+5So82sgv7tsFZR2nxB6lXiquHrfD8nfYZ9SeT0LiuvSoVrxGY16pCNRZKqvwWsn5OHypPBELzohMCaRaa0ceTHYqe7X/gfJEEtKFbJpWoNqO+aS1cuTykGPpK5Ga48m6L3NefTr013KqYBQu929iP1oQ/7UwSR+i3zqruUmT84qmhzLpxyj7pr9kg7LKvqaXxZmdpn+6o8sHqSqojy02gU3U8q9PnpidiaLks0mbMYz+q2uVXsoBQ8bfURULYxRgZVYCHMv9F4OA7qxT2NPPpvGQ/sTDH2yznKh7E2AcErfcNsaIoN1izzbJiaY63x4QjUFdBSvDCvugPpu5xDny0jzEeuUQbcP1aGT9V90uixngTRLYNEIIZ6yOF1H8tm7rj2JxiefsVy53zGVy3ag5uuPsdufYOzYxLRxngKe7nhx3VAq54pmz/DK9/Q3aDam2Yt3hNXB4HuU87jKNd/CKZn77Qdn5QkXPfqSkhk7hGOXXB+7v09KbBbqdvxGqa0AqfK/atIrL2WXdAgXAJ43Wtwe/aIoacXezeGPMlhDOHDbSfHnaXsL2QzbT82GRwZuezdwcoWzx5pnOnGMUdHuiY7lhdyWzWiHnucLZQxYStMJbtcydHaQ6vtMbe0AcDbxG+QG14AL94xry4297xpy9Cpf1OoxZ740gHDfrK+gtsy0xabwJmfgtCeii79B6aj0SJeLbd7AAAAAElFTkSuQmCC);
  background-repeat: repeat; pointer-events: none; opacity: 1; mix-blend-mode: overlay;
}

/* === The single global scroll frame === */
.tester-frame {
  position: relative;
  z-index: 200;                    /* above overlay bands (180) */
  height: 100dvh;
  width: 100%;
  overflow-y: auto;
  overflow-x: clip;
  background: var(--background);
  transition:
    margin .28s ease,
    width .28s ease,
    height .28s ease,
    border-radius .28s ease,
    box-shadow .28s ease;

  scrollbar-gutter: stable both-edges;   /* reduces layout jiggle on toggle */
  will-change: margin, width, height;    /* smoother animation */
}

/* Optional: hide scrollbar UI, keep scroll */
.tester-frame::-webkit-scrollbar { display: none; }
.tester-frame { scrollbar-width: none; }

/* === Menu open: per-side shrink (no scale) === */
html.menu-open .tester-frame {
  margin: var(--gap-top) var(--gap-right) var(--gap-bottom) var(--gap-left);
  width:  calc(100vw  - var(--gap-left) - var(--gap-right));
  height: calc(100dvh - var(--gap-top)  - var(--gap-bottom));

  border-radius: 24px;
  /* keep scrolling intact; don't remove overflow during toggle */
  /* optional visual masking instead of overflow: clip; */
  clip-path: inset(0 round 24px);
  box-shadow:
    0 40px 120px -24px rgba(0,0,0,.55),
    inset 0 0 0 1px rgba(255,255,255,.08);
}


/* Navbar sits inside the frame so it moves with it */
.nav-stick { position: sticky; top: 0; z-index: 210; pointer-events: auto; }

/* Navbar shell cosmetics (demo) */
.nav-shell {
  @apply rounded-2xl md:rounded-3xl border;
  background: rgba(255, 255, 255, 0.96);
  color: #0b0b0b;
  border-color: rgba(0,0,0,.08);
  box-shadow: 0 18px 40px rgba(0,0,0,.25);
  backdrop-filter: blur(12px);
}

/* Body surface holding page sections (demo) */
.content-surface { background: #9ca3af; min-height: 100%; }

/* Demo sections */
.demo-section {
  background: #ffffff;
  color: #111827;
  border-radius: 1rem;
  box-shadow: 0 10px 30px rgba(0,0,0,.15);
}

/* === Overlay bands (behind the frame, above orange) === */
.overlay-bands { position: fixed; inset: 0; z-index: 180; pointer-events: none; }

/* TOP band fills the top rim revealed by margins */
.overlay-top-band {
  position: fixed;
  top: 0; left: 0; right: 0;
  height: var(--band-top-height);
  display: flex; align-items: center;
  pointer-events: auto;
}

/* LEFT band fills the left rim revealed by margins */
.overlay-left-band {
  position: fixed;
  top: 0; bottom: 0; left: 0;
  width: var(--band-left-width);
  display: flex; align-items: center; justify-content: center;
  pointer-events: auto;
}

/* Inner content (glass bars) */
.overlay-top-inner {
  margin: 12px 16px 0 16px;
  padding: 10px 14px;
  border-radius: 16px;
  background: oklch(0.99 0.01 95 / 0.85);
  backdrop-filter: blur(10px);
  box-shadow: 0 12px 30px rgba(0,0,0,.12);
  width: calc(100% - 32px);
  display: flex; align-items: center; justify-content: space-between; gap: 12px;
}

.overlay-left-inner {
  writing-mode: vertical-rl;
  transform: rotate(180deg);
  margin: 16px 0 16px 12px;
  padding: 12px;
  border-radius: 16px;
  background: oklch(0.99 0.01 95 / 0.85);
  backdrop-filter: blur(10px);
  box-shadow: 0 12px 30px rgba(0,0,0,.12);
  display: flex; align-items: center;
}
